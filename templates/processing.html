<!DOCTYPE html>
<html lang="en">

<head>
    <title>Traitez votre image</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <link href="../static/jumbotron-narrow.css" rel="stylesheet">

    <link href="../static/style.css" rel="stylesheet">

    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

</head>

<body>

    <div class="container">
        <div class="header">
            <nav>
                <ul class="nav nav-pills pull-right">
                    <li role="presentation" class="active"><a href="/">Accueil</a>
                    </li>
                    <li role="presentation"><a href="https://github.com/Melissa-Amrouche/TransformationImages">Dépôt Git</a>
                    </li>
                </ul>
            </nav>
            <h3 class="text-muted">Traitez votre image</h3>
        </div>

        <div class="jumbotron">
            <div id="image-container">
                <img src=" {{url_for('send_image', filename=image_name)}} " style="max-width: 560px;">
            </div>
        </div>

        <div class="row marketing">
            <div class="col-lg-6">
                <h4>Retourner</h4>
                <form id="form-flip" action="{{ url_for('flip') }}" method="POST" enctype="multipart/form-data">
                    <button id="btnFlipV" class="btn btn-lg btn-success" type="submit" name="mode" value="vertical">Vertical</button>
                    <button id="btnFlipH" class="btn btn-lg btn-success" type="submit" name="mode" value="horizontal">Horizontal</button>
                    <input type="text" class="hidden" name="image" value="{{ image_name }}">
                </form>

                <!-- FONCTIONNALITÉ ROGNER - CACHÉE
                <h4>Rogner</h4>
                <form id="form-crop" action="{{ url_for('crop') }}" method="POST" enctype="multipart/form-data">
                    <input type="number" placeholder="x1" min="0" name="x1" required>
                    <input type="number" placeholder="y1" min="0" name="y1" required>
                    <input type="number" placeholder="x2" min="0" name="x2" required>
                    <input type="number" placeholder="y2" min="0" name="y2" required>
                    <button id="btnCrop" class="btn btn-lg btn-success" type="submit">Valider</button>
                    <input type="text" class="hidden" name="image" value="{{ image_name }}">
                </form>
                -->
            </div>

            <div class="col-lg-6">
                <h4>Pivoter</h4>

                <form id="form-rotate" action="{{ url_for('rotate') }}" method="POST" enctype="multipart/form-data">
                    <!-- Slider for angle selection (0-360) -->
                    <div class="form-group">
                        <label for="angleSlider">Angle de rotation :</label>
                        <input type="range" id="angleSlider" class="angle-slider" min="0" max="360" value="0" step="1">
                    </div>

                    <!-- Number input synchronized with slider -->
                    <div class="form-group">
                        <label for="angleInput">Angle (degrés) :</label>
                        <input type="number" id="angleInput" name="angle" min="0" max="360" value="0" placeholder="0-360" required>
                    </div>

                    <!-- Quick rotation buttons -->
                    <div class="quick-rotation-buttons">
                        <button type="button" id="rotate90Btn" class="btn btn-sm btn-default">90°</button>
                        <button type="button" id="rotate180Btn" class="btn btn-sm btn-default">180°</button>
                        <button type="button" id="rotate270Btn" class="btn btn-sm btn-default">270°</button>
                        <button type="button" id="resetBtn" class="btn btn-sm btn-warning">Réinitialiser</button>
                    </div>

                    <!-- Submit button -->
                    <button id="btnRotate" class="btn btn-lg btn-success" type="submit">Appliquer la rotation</button>
                    <input type="text" class="hidden" name="image" value="{{ image_name }}">
                </form>

                <!-- FONCTIONNALITÉ FUSIONNER - CACHÉE
                <h4>Fusionner</h4>
                <form id="form-blend" action="{{ url_for('blend') }}" method="POST" enctype="multipart/form-data">
                    <input type="number" name="alpha" placeholder="alpha (%)" min="0" max="100" required>
                    <button id="btnBlend" class="btn btn-lg btn-success" type="submit">Valider</button>
                    <input type="text" class="hidden" name="image" value="{{ image_name }}">
                </form>
                -->

            </div>
        </div>

        <footer class="footer">
            <p class="text-center">&copy; 2025. Transformation d'Images.</p>
        </footer>

    </div>

    <!-- JavaScript for interactive rotation UI -->
    <script src="../static/rotation.js"></script>
</body>

</html>
